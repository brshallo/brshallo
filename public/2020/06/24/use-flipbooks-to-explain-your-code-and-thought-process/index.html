<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.75.0" />


<title>Use Flipbooks to Explain Your Code and Thought Process - Bryan Shalloway&#39;s Blog</title>
<meta property="og:title" content="Use Flipbooks to Explain Your Code and Thought Process - Bryan Shalloway&#39;s Blog">


  <link href='/favicon.ico' rel='icon' type='image/x-icon'/>



  







<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/bryan_edit.jpg"
         width="60"
         height="60"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="https://twitter.com/brshallo">Twitter</a></li>
    
    <li><a href="https://github.com/brshallo">GitHub</a></li>
    
    <li><a href="https://www.linkedin.com/in/bryanshalloway/">LinkedIn</a></li>
    
    <li><a href="https://www.youtube.com/channel/UCDVMC4-VRU-tR2Z4nYc1mDA">YouTube</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">6 min read</span>
    

    <h1 class="article-title">Use Flipbooks to Explain Your Code and Thought Process</h1>

    
    <span class="article-date">2020-06-24</span>
    

    <div class="article-content">
      


<div id="learning-rs" class="section level1">
<h1>Learning R‚Äôs <code>%&gt;%</code></h1>
<p>Using the pipe operator (<code>%&gt;%</code>) is one of my favorite things about coding in R and the <a href="https://www.tidyverse.org/">tidyverse</a>. However when it was first shown to me, I couldn‚Äôt understand what the <a href="https://twitter.com/search?q=%23rstats&amp;src=typed_query">#rstats</a> nut describing it was <em>so enthusiastic</em> about. They tried to explain, ‚ÄúIt means <em>and then</em> do the next operation.‚Äù When that didn‚Äôt click for me, they continued (while becoming ever more excited) ‚ÄúIt <em>passes the previous steps output into the first argument</em> of the next function,‚Äù still‚Ä¶ üòêüòêüòï.
Self-evident verbs in their code like <code>select()</code>, <code>filter()</code>, <code>summarise()</code> helped me nod along, partly following the operations. Though it wasn‚Äôt until I evaluated the code <em>line-by-line</em> that I recognized the pipe‚Äôs elegance, power, beauty, simplicity üòÑ!</p>
<p>Now, a few years and reads through <a href="https://r4ds.had.co.nz/">R for Data Science</a> later<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, I will often share my work by keeping the code and output together and showing, line-by-line, what I am building towards. For example when‚Ä¶</p>
<p>‚Ä¶ giving a 2019 talk on <em>‚ÄúManaging objects in analytics workflows, using lists as columns in dataframes‚Äù</em>:</p>
<blockquote>
<iframe width="560" height="315" src="https://www.youtube.com/embed/gme4Fb9JVjk?start=258" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</blockquote>
<p>‚Ä¶ giving a 2017 talk on <em>‚ÄúGetting started with ‚Äòtidy‚Äô data science in R‚Äù</em>:</p>
<blockquote>
<iframe width="560" height="315" src="https://www.youtube.com/embed/eeCELJNWEuw?start=474" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</blockquote>
<p>‚Ä¶ promoting a recent blog post on <em>‚ÄúTidy pairwise operations‚Äù</em> (though in this case I removed the code):</p>
<blockquote>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
What is your <a href="https://twitter.com/hashtag/tidyverse?src=hash&amp;ref_src=twsrc%5Etfw">#tidyverse</a> (or other <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> ) approach for doing arbitrary pairwise operations across variables? Mine is frequently something like:<br><br>I. nest‚Ä¶<br>II. expand combos‚Ä¶ <br>III. filter‚Ä¶<br>IV. map fun(s)‚Ä¶<br>‚Ä¶<br><br>I wrote a post walking through this: <a href="https://t.co/xRnRf5yh3m">https://t.co/xRnRf5yh3m</a> <a href="https://t.co/Zvxey2gm3H">pic.twitter.com/Zvxey2gm3H</a>
</p>
‚Äî Bryan Shalloway (<span class="citation">@brshallo</span>) <a href="https://twitter.com/brshallo/status/1271194908477591553?ref_src=twsrc%5Etfw">June 11, 2020</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</blockquote>
<p>However each of these examples were built using PowerPoint (and a lot of copy and pasting of code + output). The series of images cannot be easily reproduced. In this post I‚Äôll point to resources on how to create these sorts of code communication materials in ways that <em>are reproducible</em>.</p>
</div>
<div id="flipbooks" class="section level1">
<h1>Flipbooks</h1>
<p>When I started writing this post, I planned to call this type of output a ‚Äú<strong>LEXPREX</strong>‚Äù for ‚Äú<strong>L</strong>ine-by-line <strong>EX</strong>ecution with <strong>PR</strong>inted <strong>EX</strong>amples‚Äù (and a name evocative of the inspiring <a href="https://github.com/tidyverse/reprex">reprex</a> package by <a href="https://twitter.com/JennyBryan%5D">Jenny Bryan</a><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>). But, thankfully, an excellent solution containing thorough explanations (and a much better name) already existed, <em>flipbooks</em>.</p>
<p>As described in the <a href="https://evamaerey.github.io/flipbooks/about">flipbookr documentation</a>, ‚Äúflipbooks are tools that present side-by-side, aligned, incremental code-output.‚Äù</p>
<div class="figure">
<img src="https://github.com/brshallo/flipbookr-gifs-examples/raw/master/example-r4ds.gif?raw=true" alt="(Example inspired by ‚ÄòMany Models‚Äô chapter of ‚ÄòR For Data Science‚Äô by Grolemund &amp; Wickham.)" />
<p class="caption">(Example inspired by ‚ÄòMany Models‚Äô chapter of ‚ÄòR For Data Science‚Äô by Grolemund &amp; Wickham.)</p>
</div>
<p>At this point you should stop reading this blog and instead go learn about <a href="https://github.com/EvaMaeRey/flipbookr">flipbookr</a>. My post was largely written before I learned about this package. Hence, starting at <a href="https://rstudio.com/resources/rstudioconf-2020/flipbooks-evangeline-reynolds/">this presentation</a> by <a href="https://twitter.com/EvaMaeRey">Gina Reynolds</a> or <code>flipbookr</code>‚Äôs <a href="https://evamaerey.github.io/flipbooks/about">about page</a> will generally be a more productive use of your time. The remainder of this post discusses either tools adjacent to flipbooks or describes workflows that can also be found within <code>flipbookr</code> documentation.</p>
</div>
<div id="example-with-xaringan" class="section level1">
<h1>Example with xaringan</h1>
<p>The <a href="https://github.com/yihui/xaringan">xaringan</a> package for making slideshows contains highlighting features (and is what <code>flipbookr</code> is built-on). For highlighting <em>code</em> you can use the trailing comment <code>#&lt;&lt;</code><a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>. For highlighting <em>output</em> there is the <code>highlight.output</code> code chunk option.</p>
<blockquote>
<iframe src="https://slides.yihui.org/xaringan/#31" style="width: 560px; height: 315px;">
</iframe>
</blockquote>
<p><a href="https://twitter.com/mitchoharawild">Mitchell O‚ÄôHara-Wild</a>‚Äôs 2019 presentation on <em>‚ÄúFlexible futures for <a href="https://github.com/tidyverts/fable">fable</a> functionality‚Äù</em> contains a helpful example where he uses these features to walk-through <a href="https://github.com/mitchelloharawild/fable-combinations-2019/blob/6a55628e1ad156c0040676b7881a799f7f75370a/user2019/index.Rmd">his code</a>.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/DhDOTxojQ3k?start=554" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>See <a href="#more-sophisticated-highlighting">More sophisticated highlighting</a> if your use-case requires more than line-level highlighting.</p>
</div>
<div id="animating-a-flipbook" class="section level1">
<h1>Animating a flipbook</h1>
<p>I sometimes want to convert a flipbook into a gif, e.g.¬†when sharing an example in a README or a snippet of a concept on social media. If you ignored my prior entreaty, this is a second reminder to stop and go read about <code>flipbookr</code>. The <a href="https://evamaerey.github.io/flipbooks/about">template file</a> now shows how to create gifs using <code>flipbookr</code> (html) ‚Äì&gt; <code>pagedown</code> (pdf) ‚Äì&gt; <code>magick</code> (gif). I also describe this workflow and provide examples <a href="https://github.com/brshallo/flipbookr-gifs-examples">here</a>, e.g.</p>
<div class="figure">
<img src="https://github.com/brshallo/flipbookr-gifs-examples/raw/master/example-riddler-solution.gif" alt="(Example from a prior blog post, ‚ÄúRiddler Solutions: Pedestrian Puzzles‚Äù)" />
<p class="caption">(Example from a prior blog post, ‚ÄúRiddler Solutions: Pedestrian Puzzles‚Äù)</p>
</div>
</div>
<div id="closing-note" class="section level1">
<h1>Closing note</h1>
<p>I recommend exploring the <a href="https://education.rstudio.com/blog/">Rstudio Education blog</a>. The site contains helpful resources for improving your technical communication. It was here that I stumbled on the post <a href="https://education.rstudio.com/blog/2020/05/flair/">Decorate your R code with flair</a>. Reading this inspired me to make a first attempt at building a reproducible animation of line-by-line execution of R code (something I‚Äôd been wanting to do for ages). The positive response &amp; feedback to my initial tweet led me to learn about <code>flipbookr</code> and motivated additional actions (described in <a href="#engagement-contributions">Engagement &amp; contributions</a>) including the review and completion of this blog post.</p>
<p>Finally, please go enjoy the beautiful examples you can find at the <code>flipbookr</code> <a href="https://evamaerey.github.io/flipbooks/about">about page</a>:</p>
<p><a href="https://evamaerey.github.io/flipbooks/about"><img src="/post/2020-06-16-use-flipbooks-to-explain-your-code-and-thought-process_files/flipbookr-example.gif" /></a></p>
</div>
<div id="appendix" class="section level1">
<h1>Appendix</h1>
<div id="more-sophisticated-highlighting" class="section level2">
<h2>More sophisticated highlighting</h2>
<p>For more sophisticated highlighting of <em>code</em>, use the <a href="https://github.com/kbodwin/flair">flair package</a>. I‚Äôm not sure what to recommend for highlighting changes in <em>output</em> to the console‚Ä¶ perhaps <a href="https://github.com/brodieG/diffobj">diffobj</a> would be an option. You could also just explicitly format the output, e.g.¬†using <a href="https://github.com/rstudio/gt">gt</a> or <a href="https://github.com/haozhu233/kableExtra">kableExtra</a> for tabular outputs, or using geoms, annotations, etc. in <a href="https://github.com/tidyverse/ggplot2">ggplot</a>s. And, of course, you can always dive into the html.</p>
</div>
<div id="engagement-contributions" class="section level2">
<h2>Engagement &amp; contributions</h2>
<p>Blogging is time consuming. Reaching out to package maintainers or making contributions (even small ones) on open-source software projects can be intimidating. As a <em>tiny</em> success story, I documented actions that stemmed (in some part) from engaging with the #rstats online communities while working on this blog post topic:</p>
<ul>
<li>While this post was in draft form, I tweeted out my initial approach (that used the <a href="https://github.com/kbodwin/flair">flair</a> package).
<ul>
<li>The next step might have been trying to improve upon this. Thankfully, instead, <a href="https://twitter.com/KellyBodwin">Kelly Bodwin</a> pointed me to <code>flipbookr</code>!</li>
</ul></li>
</ul>
<blockquote>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
P.S. <br><br>The <code>flair_lines()</code> function lets you highlight whole line(s) if you want! <br><br>{flipbookr} is a better option for making gifs/slides like this, but {flair} + {pagedown} + {magick} might help if you want specialty or layered highlighting.
</p>
‚Äî Kelly Bodwin (<span class="citation">@KellyBodwin</span>) <a href="https://twitter.com/KellyBodwin/status/1272741205365764097?ref_src=twsrc%5Etfw">June 16, 2020</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</blockquote>
<ul>
<li>Kelly also created an <a href="https://github.com/kbodwin/flair/issues/15">issue</a> to further discuss possible integrations between <code>flair</code> and <code>flipbookr</code>.</li>
<li>I remade my initial example using <code>flipbookr</code> (<a href="https://github.com/EvaMaeRey/flipbookr/issues/22">see issue</a>).
<ul>
<li>I first created an <a href="https://github.com/EvaMaeRey/flipbookr/issues/21">issue</a> showing how to print <code>xaringan</code> slides incrementally using <code>pagedown::chrome_print()</code>.
<ul>
<li>Which helped to close a related <a href="https://github.com/rstudio/pagedown/issues/110">issue</a> on <code>xaringan</code>.</li>
</ul></li>
</ul></li>
<li>Gina Reynolds made a variety of updates to <code>flipbookr</code>, one of which included adding the html ‚Äì&gt; pdf ‚Äì&gt; gif workflow to the template üòÑ.</li>
</ul>
<blockquote>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
Big thanks to <a href="https://twitter.com/grrrck?ref_src=twsrc%5Etfw"><span class="citation">@grrrck</span></a> and <a href="https://twitter.com/statsgen?ref_src=twsrc%5Etfw"><span class="citation">@statsgen</span></a> for helps and <a href="https://twitter.com/xieyihui?ref_src=twsrc%5Etfw"><span class="citation">@xieyihui</span></a> because {xaringan}! And to <a href="https://twitter.com/brshallo?ref_src=twsrc%5Etfw"><span class="citation">@brshallo</span></a> and <a href="https://twitter.com/KellyBodwin?ref_src=twsrc%5Etfw"><span class="citation">@KellyBodwin</span></a> for new ideas about how to share flipbooks, html -&gt; pdf -&gt; gif. Guidance now included in template update on this - this gif created w/ that workflow!üôèü§©
</p>
‚Äî Gina Reynolds (<span class="citation">@EvaMaeRey</span>) <a href="https://twitter.com/EvaMaeRey/status/1274837474460626945?ref_src=twsrc%5Etfw">June 21, 2020</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</blockquote>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>See my notes and solutions <a href="https://brshallo.github.io/r4ds_solutions/">here</a>.<a href="#fnref1" class="footnote-back">‚Ü©</a></p></li>
<li id="fn2"><p>I also considered names such as <code>pexprex</code>, <code>sexprex</code>, <code>pripex</code>, ‚Ä¶ I‚Äôll let the reader guess at the acronyms.<a href="#fnref2" class="footnote-back">‚Ü©</a></p></li>
<li id="fn3"><p>Which I prefer over the alternatives of using the leading <code>*</code> or wrapping the message in<code>{{}}</code>.<a href="#fnref3" class="footnote-back">‚Ü©</a></p></li>
</ol>
</div>

    </div>
  </article>

  
<section id="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var d = document, s = d.createElement('script');
    s.src = '//bryanshalloway.disqus.com/embed.js'; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>



</main>

  
      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a>Blogroll:</a><a href="https://www.r-bloggers.com/" class="footer-links-kudos">R-Bloggers</a><a href="https://rweekly.org/" class="footer-links-kudos">R-Weekly</a>
          </li>
        </ul>
      </footer>

    </div>
    

    


    
  </body>
</html>

