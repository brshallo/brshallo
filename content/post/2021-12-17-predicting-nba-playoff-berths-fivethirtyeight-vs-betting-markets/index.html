---
title: 'Predicting NBA Playoff Berths: FiveThirtyEight vs Betting Markets'
author: Bryan Shalloway
date: '2021-12-17'
slug: predicting-nba-playoff-berths-fivethirtyeight-vs-betting-markets
categories:
  - business
  - statistics
  - rstats
tags:
  - tidyverse
  - rvest
  - gt
  - broom
  - glue
  - janitor
  - lubridate
  - fs
codefolding_show: hide
thumbnail: /2021/12/17/predicting-nba-playoff-berths-fivethirtyeight-vs-betting-markets/images/lakers-eliminated.PNG
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>

<div id="TOC">
<ul>
<li><a href="#nba-playoffs-and-the-lakers">NBA Playoffs and the Lakers</a></li>
<li><a href="#data-prep">Data Prep</a>
<ul>
<li><a href="#scraping-betting-markets">Scraping Betting Markets</a>
<ul>
<li><a href="#steps">Steps</a></li>
</ul></li>
<li><a href="#joining-with-fivethirtyeight-data">Joining with FiveThirtyEight data</a></li>
</ul></li>
<li><a href="#analysis">Analysis</a>
<ul>
<li><a href="#how-much-does-fivethirtyeight-differ-from-markets">How much does FiveThirtyEight <em>differ</em> from markets?</a></li>
</ul></li>
<li><a href="#closing-thought">Closing Thought</a></li>
<li><a href="#appendix">Appendix</a>
<ul>
<li><a href="#potential-reasons-for-the-difference">Potential Reasons for the Difference</a></li>
<li><a href="#calculating-percentiles-of-diff">Calculating percentiles of diff</a></li>
</ul></li>
</ul>
</div>

<p><strong>TLDR:</strong> <em>FiveThirtyEight’s forecasts of NBA playoff berths seem to hold-up OK against betting markets. If you trust them, you should consider betting against the Lakers right now.</em></p>
<p>In <a href="https://fivethirtyeight.com/features/oct-23-the-virtues-and-vices-of-election-prediction-markets/">The Virtues and Vices of Election Prediction Markets</a> Nate Silver explains why <a href="https://fivethirtyeight.com/">FiveThirtyEight</a> generally should <em>not</em> beat the market:</p>
<blockquote>
<p>“The general question of whether FiveThirtyEight ought to be better than prediction and betting markets is an interesting one. I am far from an efficient-market hypothesis purist, but markets are tough to beat in most circumstances. Furthermore, the FiveThirtyEight forecasts are public information, and bettors can use our forecasts along with those of our competitors to calibrate their estimates of the outcomes.”</p>
</blockquote>
<p>FiveThirtyEight does more with their forecasts than <em>just</em> predict outcomes. Their forecasts provide the foundation of their data journalism covering trends in sports and politics. We should expect FiveThirtyEight’s forecasts to make some tradeoffs between optimizing for performance and being interpretable<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>. Their NBA model is based on a blend of team and individual player performance and is designed with various linear constraints in place that make it explainable to the public (see: <a href="https://fivethirtyeight.com/methodology/how-our-nba-predictions-work/#:~:text=Game%20predictions&amp;text=For%20a%20given%20lineup%2C%20we,the%20court%20at%20all%20times">How Our NBA Predictions Work</a>).</p>
<p>However performance costs shouldn’t be <em>too</em> high. Afterall, trust in FiveThirtyEight’s explanations is in large part dependent on their models’ predictive power.</p>
<p><strong>The public should root for forecasters like FiveThirtyEight</strong></p>
<p>Where betting markets exist, public forecasts like FiveThirtyEight’s add information into the system and can help markets reach more efficient prices. Where markets don’t exist, we are limited to the power of such forecasting processes – be it government impact assessments, weather forecasts, disease modeling, … – society gains as predictive power improves<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.</p>
<div id="nba-playoffs-and-the-lakers" class="section level1">
<h1>NBA Playoffs and the Lakers</h1>
<p>I was struck the other day by a substantial difference between FiveThirtyEight and the betting markets in their outlook on the Lakers. I remarked that FiveThirtyEight should add an additional point of comparison to their documentation of <a href="https://projects.fivethirtyeight.com/checking-our-work/nba-playoffs/">How Good are FiveThirtyEight Forecasts</a><a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.</p>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
I get betting markets will be better but by how much?<br><br>For NBA predictions I feel like I'll see stuff wildly out-of-touch with betting markets (eg lakers 27% to make playoffs on 538 but -460 on betting markets) and I don't know what to think.
</p>
— Bryan Shalloway (<span class="citation">@brshallo</span>) <a href="https://twitter.com/brshallo/status/1467868597280251905?ref_src=twsrc%5Etfw">December 6, 2021</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>I could not (immediately) find any performance comparisons beween betting markets and FiveThirtyEight forecasts of <em>NBA playoffs</em>, so pulled the data and wrote this post<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>.</p>
<p>Spoiler on <a href="#analysis">Analysis</a>: Turns out, FiveThirtyEight holds-up pretty well.</p>
</div>
<div id="data-prep" class="section level1">
<h1>Data Prep</h1>
<div id="scraping-betting-markets" class="section level2">
<h2>Scraping Betting Markets</h2>
<p>I scraped historical betting lines and which teams actually made the playoffs each season from the “Archived NBA Futures Odds” section of <a href="https://www.sportsoddshistory.com/nba-odds/">Sports Odds History</a><a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>. The Sports Odds History website is constructed in a way that makes it relatively straight-forward to scrape the requisite information.</p>
<p><img src="images/archive-overall.PNG" /></p>
<p>The webpage for each season has a (mostly) consistent table structure and associated date of archive.</p>
<p><img src="images/example-table.PNG" /></p>
<p>Each season has a consistent URL (with only the season year changing).</p>
<p><img src="images/example-url.PNG" /></p>
<div id="steps" class="section level3">
<h3>Steps</h3>
<ol style="list-style-type: decimal">
<li>Create table with URL’s to scrape</li>
<li>For each URL repeat steps 3 to 6</li>
<li>Scrape table containing Teams, betting odds, and outcomes<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a></li>
<li>Convert from payouts to odds (e.g. +400 becomes 0.25)</li>
<li>Tables contain the betting odds of both “making the playoffs” and “missing the playoffs”<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a>. I took the average of the implied odds of making the playoffs between both columns (“make” and inverse of “miss”). This might be generous to the betting markets but likely gets at a closer estimate of where they actually expect the odds to be.</li>
<li>Scrape <em>date</em> archived and join to table</li>
<li>Bind data from all scraped pages / seasons together</li>
<li>Convert from odds to probability (e.g. 4:1 becomes 80%)</li>
</ol>
<p><em>Load packages and helper functions</em></p>
<pre class="r"><code># Load packages
library(tidyverse)
library(rvest)
library(gt)
library(broom)

# Helper functions
# Some of the tables had the lines represented as character strings like &quot;+400&quot;
# &quot;-300&quot;. This converts those to a numeric type (if they&#39;re not  already).
odds_to_numeric &lt;- function(x){
  if(is.numeric(x)) return(x)
  sign &lt;- str_sub(x, 1, 1)
  sign &lt;- case_when(sign == &quot;-&quot; ~ -1,
                    sign == &quot;+&quot; ~ 1)
  x_dbl &lt;- str_sub(x, 2) %&gt;% as.double()
  x_dbl * sign
}

# -400 would be converted to 4, +400 to 0.25
line_to_odds &lt;- function(x){
  positive &lt;- sign(x) == 1
  abs_x &lt;- abs(x)
  case_when(positive ~ 100 / abs_x ,
            !positive ~ abs_x / 100)
}

odds_to_prob &lt;- function(odds){
  odds / (1 + odds)
}</code></pre>
<p>I’ve labeled each respective <code># step</code> in the code sections below.</p>
<p><strong>Step 1</strong></p>
<pre class="r"><code># step 1
scrape_urls &lt;- tibble(start_yr = 2014:2020, end_yr = 2015:2021) %&gt;% 
  mutate(yr = paste0(start_yr, &quot;-&quot;, end_yr),
         urls = glue::glue(
           &quot;https://www.sportsoddshistory.com/nba-win/?y={yr}&amp;sa=nba&amp;t=post&amp;o=s&quot;,
           yr = yr
         ))


scrape_urls %&gt;% 
  gt::gt()</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#pvvimbfqtg .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pvvimbfqtg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pvvimbfqtg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pvvimbfqtg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pvvimbfqtg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pvvimbfqtg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pvvimbfqtg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pvvimbfqtg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pvvimbfqtg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pvvimbfqtg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pvvimbfqtg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pvvimbfqtg .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#pvvimbfqtg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pvvimbfqtg .gt_from_md > :first-child {
  margin-top: 0;
}

#pvvimbfqtg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pvvimbfqtg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pvvimbfqtg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#pvvimbfqtg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pvvimbfqtg .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#pvvimbfqtg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pvvimbfqtg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pvvimbfqtg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pvvimbfqtg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pvvimbfqtg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pvvimbfqtg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#pvvimbfqtg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pvvimbfqtg .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#pvvimbfqtg .gt_left {
  text-align: left;
}

#pvvimbfqtg .gt_center {
  text-align: center;
}

#pvvimbfqtg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pvvimbfqtg .gt_font_normal {
  font-weight: normal;
}

#pvvimbfqtg .gt_font_bold {
  font-weight: bold;
}

#pvvimbfqtg .gt_font_italic {
  font-style: italic;
}

#pvvimbfqtg .gt_super {
  font-size: 65%;
}

#pvvimbfqtg .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="pvvimbfqtg" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">start_yr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">end_yr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">yr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">urls</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_center">2014</td>
      <td class="gt_row gt_center">2015</td>
      <td class="gt_row gt_left">2014-2015</td>
      <td class="gt_row gt_center">https://www.sportsoddshistory.com/nba-win/?y=2014-2015&amp;sa=nba&amp;t=post&amp;o=s</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2015</td>
      <td class="gt_row gt_center">2016</td>
      <td class="gt_row gt_left">2015-2016</td>
      <td class="gt_row gt_center">https://www.sportsoddshistory.com/nba-win/?y=2015-2016&amp;sa=nba&amp;t=post&amp;o=s</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2016</td>
      <td class="gt_row gt_center">2017</td>
      <td class="gt_row gt_left">2016-2017</td>
      <td class="gt_row gt_center">https://www.sportsoddshistory.com/nba-win/?y=2016-2017&amp;sa=nba&amp;t=post&amp;o=s</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2017</td>
      <td class="gt_row gt_center">2018</td>
      <td class="gt_row gt_left">2017-2018</td>
      <td class="gt_row gt_center">https://www.sportsoddshistory.com/nba-win/?y=2017-2018&amp;sa=nba&amp;t=post&amp;o=s</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2018</td>
      <td class="gt_row gt_center">2019</td>
      <td class="gt_row gt_left">2018-2019</td>
      <td class="gt_row gt_center">https://www.sportsoddshistory.com/nba-win/?y=2018-2019&amp;sa=nba&amp;t=post&amp;o=s</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2019</td>
      <td class="gt_row gt_center">2020</td>
      <td class="gt_row gt_left">2019-2020</td>
      <td class="gt_row gt_center">https://www.sportsoddshistory.com/nba-win/?y=2019-2020&amp;sa=nba&amp;t=post&amp;o=s</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2020</td>
      <td class="gt_row gt_center">2021</td>
      <td class="gt_row gt_left">2020-2021</td>
      <td class="gt_row gt_center">https://www.sportsoddshistory.com/nba-win/?y=2020-2021&amp;sa=nba&amp;t=post&amp;o=s</td>
    </tr>
  </tbody>
  
  
</table></div>
<p><strong>Steps 2-6</strong></p>
<p><em>Custom scraping function:</em></p>
<pre class="r"><code>scrape_nba_playoffs_odds &lt;- function(url){
  
  css_selector_tbl &lt;- &quot;#content &gt; div &gt; table.soh1&quot;
  
  html_page &lt;- url %&gt;% 
    read_html()
  
  # step 3
  data &lt;- html_page %&gt;% 
    html_element(css = css_selector_tbl) %&gt;% 
    html_table() %&gt;% 
    janitor::clean_names() %&gt;% 
    mutate(
      # step 4
      across(contains(&quot;odds&quot;),
             list(dbl = ~odds_to_numeric(.x) %&gt;% 
                    line_to_odds())),
      # step 5
      make_odds_avg = (make_odds_dbl + 1 / miss_odds_dbl) / 2)

  html_kids &lt;- html_page %&gt;% 
    html_element(css = &quot;#content &gt; div&quot;) %&gt;% 
    html_children() %&gt;% 
    html_text2()
  
  # step 6
  phrase_date &lt;- &quot;As of &quot;
  date_taken &lt;- html_kids %&gt;% 
    str_subset(phrase_date) %&gt;% 
    str_extract(glue::glue(&quot;(?&lt;={phrase_date}).+&quot;)) %&gt;% 
    lubridate::mdy()
  
  data %&gt;% 
    mutate(forecast_date = date_taken) %&gt;% 
    # type varied between webpages so force to chr so can bind multiple...
    mutate(across(c(make_odds, miss_odds), as.character)) %&gt;% 
    relocate(forecast_date)
}</code></pre>
<p><em><code>map()</code> function to <code>scrape_nba_playoffs_odds()</code> on urls</em></p>
<pre class="r"><code># Step 2 (applies steps 3 through 6 on each URL)
scraped_urls &lt;- scrape_urls %&gt;% 
  mutate(data = map(urls, scrape_nba_playoffs_odds))</code></pre>
<p><strong>Steps 7-8</strong></p>
<pre class="r"><code>odds_data_prepped &lt;- scraped_urls %&gt;% 
  select(season = end_yr, data) %&gt;% 
  # step 7
  unnest(data) %&gt;% 
  arrange(desc(season)) %&gt;% 
  mutate(
    # step 8
    make_playoffs_bookies = odds_to_prob(make_odds_avg),
    result = ifelse(result == &quot;MAKE&quot;, 1, 0)
    ) %&gt;% 
  select(season, forecast_date, team, result, make_playoffs_bookies) %&gt;% 
  mutate(team = str_extract(team, &quot;(?&lt;=[:blank:])[:alnum:]+$&quot;))</code></pre>
</div>
</div>
<div id="joining-with-fivethirtyeight-data" class="section level2">
<h2>Joining with FiveThirtyEight data</h2>
<ol start="9" style="list-style-type: decimal">
<li>All FiveThirtyEight NBA playoff forecasts were available in a .csv on github <a href="https://github.com/fivethirtyeight/checking-our-work-data/blob/master/nba_playoffs.csv">here</a>.</li>
<li>FiveThirtyEight updates their forecasts <em>every</em> day. For the archived betting market payouts there is only <em>one</em> day of odds for each season. I filtered FiveThirtyEight forecasts to <em>just</em> those days where I also had market data<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a>.</li>
<li>Joined FiveThirtyEight forecasts with market and outcome data.</li>
<li>In a few instances market data was not available, in which case I also filtered out the corresponding FiveThirtyEight records.</li>
</ol>
<p><strong>Steps 9 to 12</strong></p>
<pre class="r"><code># step 9
data_538 &lt;- read_csv(&quot;https://raw.githubusercontent.com/fivethirtyeight/checking-our-work-data/master/nba_playoffs.csv&quot;)

bookies_538_joined &lt;- data_538 %&gt;% 
  # step 10
  filter(forecast_date %in% unique(odds_data_prepped$forecast_date)) %&gt;% 
  select(season, forecast_date, team, make_playoffs_538 = make_playoffs) %&gt;% 
  # step 11
  left_join(odds_data_prepped, by = c(&quot;season&quot;, &quot;team&quot;, &quot;forecast_date&quot;)) %&gt;% 
  # step 12
  na.omit() %&gt;% 
  # mutate(make_playoffs_avg = (make_playoffs_538 + make_playoffs_bookies) / 2) %&gt;% 
  relocate(result, .after = team)</code></pre>
<p><em>Resulting table for analysis (preview of 5 rows)</em></p>
<pre class="r"><code>bookies_538_joined %&gt;% 
  head(5) %&gt;% 
  gt::gt() %&gt;% 
  gt::fmt_number(decimals = 3, columns = c(&quot;make_playoffs_538&quot;, &quot;make_playoffs_bookies&quot;))</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#kdzasrlfus .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kdzasrlfus .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kdzasrlfus .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kdzasrlfus .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kdzasrlfus .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kdzasrlfus .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kdzasrlfus .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kdzasrlfus .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kdzasrlfus .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kdzasrlfus .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kdzasrlfus .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kdzasrlfus .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#kdzasrlfus .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kdzasrlfus .gt_from_md > :first-child {
  margin-top: 0;
}

#kdzasrlfus .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kdzasrlfus .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kdzasrlfus .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#kdzasrlfus .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kdzasrlfus .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#kdzasrlfus .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kdzasrlfus .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kdzasrlfus .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kdzasrlfus .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kdzasrlfus .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kdzasrlfus .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#kdzasrlfus .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kdzasrlfus .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#kdzasrlfus .gt_left {
  text-align: left;
}

#kdzasrlfus .gt_center {
  text-align: center;
}

#kdzasrlfus .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kdzasrlfus .gt_font_normal {
  font-weight: normal;
}

#kdzasrlfus .gt_font_bold {
  font-weight: bold;
}

#kdzasrlfus .gt_font_italic {
  font-style: italic;
}

#kdzasrlfus .gt_super {
  font-size: 65%;
}

#kdzasrlfus .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="kdzasrlfus" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">season</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">forecast_date</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">team</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">result</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">make_playoffs_538</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">make_playoffs_bookies</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">2020</td>
      <td class="gt_row gt_left">2019-10-22</td>
      <td class="gt_row gt_left">Bucks</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0.995</td>
      <td class="gt_row gt_right">0.976</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">2020</td>
      <td class="gt_row gt_left">2019-10-22</td>
      <td class="gt_row gt_left">Timberwolves</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">0.525</td>
      <td class="gt_row gt_right">0.172</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">2020</td>
      <td class="gt_row gt_left">2019-10-22</td>
      <td class="gt_row gt_left">Heat</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0.708</td>
      <td class="gt_row gt_right">0.730</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">2020</td>
      <td class="gt_row gt_left">2019-10-22</td>
      <td class="gt_row gt_left">Wizards</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">0.214</td>
      <td class="gt_row gt_right">0.122</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">2020</td>
      <td class="gt_row gt_left">2019-10-22</td>
      <td class="gt_row gt_left">Hawks</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">0.115</td>
      <td class="gt_row gt_right">0.300</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
</div>
<div id="analysis" class="section level1">
<h1>Analysis</h1>
<p>FiveThirtyEight uses the <a href="https://en.wikipedia.org/wiki/Brier_score">Brier Score</a><a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a> in their evaluations of model performance (see <a href="https://fivethirtyeight.com/features/some-dos-and-donts-for-evaluating-senate-forecasts/">Some Do’s and Don’t’s For Evaluating Senate Forecasts</a>)<a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a>. I mirrored this below.</p>
<p><em>Overall performance</em></p>
<pre class="r"><code>### helper functions
t_test_playoffs &lt;- function(df){
  df %&gt;% 
    with(t.test(make_playoffs_538, make_playoffs_bookies)) %&gt;% 
    broom::tidy() %&gt;% 
    select(
      estimate_diff = estimate,
      p.value,
      estimate_538 = estimate1,
      estimate_bookies = estimate2,
      starts_with(&quot;conf&quot;)
    )
}

gt_format_output &lt;- function(df){
  df %&gt;% 
    rename_with(~str_replace(.x, &quot;estimate_&quot;, &quot;Brier.score.&quot;)) %&gt;% 
    gt::gt() %&gt;% 
    gt::fmt_number(columns = contains(&quot;.&quot;),
                   decimals = 3) %&gt;% 
    gt::tab_style(style = list(cell_text(weight = &quot;bold&quot;)),
                locations = cells_body(columns = &quot;p.value&quot;))
}
###

bookies_538_joined %&gt;% 
  mutate(across(starts_with(&quot;make_playoffs&quot;), ~(result - .x)^2)) %&gt;% 
  t_test_playoffs() %&gt;% 
  gt_format_output()</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#hifsqyhcnp .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hifsqyhcnp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hifsqyhcnp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hifsqyhcnp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hifsqyhcnp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hifsqyhcnp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hifsqyhcnp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hifsqyhcnp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hifsqyhcnp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hifsqyhcnp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hifsqyhcnp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hifsqyhcnp .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#hifsqyhcnp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hifsqyhcnp .gt_from_md > :first-child {
  margin-top: 0;
}

#hifsqyhcnp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hifsqyhcnp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hifsqyhcnp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#hifsqyhcnp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hifsqyhcnp .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#hifsqyhcnp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hifsqyhcnp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hifsqyhcnp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hifsqyhcnp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hifsqyhcnp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hifsqyhcnp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#hifsqyhcnp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hifsqyhcnp .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#hifsqyhcnp .gt_left {
  text-align: left;
}

#hifsqyhcnp .gt_center {
  text-align: center;
}

#hifsqyhcnp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hifsqyhcnp .gt_font_normal {
  font-weight: normal;
}

#hifsqyhcnp .gt_font_bold {
  font-weight: bold;
}

#hifsqyhcnp .gt_font_italic {
  font-style: italic;
}

#hifsqyhcnp .gt_super {
  font-size: 65%;
}

#hifsqyhcnp .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="hifsqyhcnp" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Brier.score.diff</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">p.value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Brier.score.538</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Brier.score.bookies</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">conf.low</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">conf.high</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">0.004</td>
      <td class="gt_row gt_right" style="font-weight: bold;">0.881</td>
      <td class="gt_row gt_right">0.143</td>
      <td class="gt_row gt_right">0.139</td>
      <td class="gt_row gt_right">&minus;0.045</td>
      <td class="gt_row gt_right">0.053</td>
    </tr>
  </tbody>
  
  
</table></div>
<p><em>Performance by Season</em></p>
<pre class="r"><code>bookies_538_joined %&gt;% 
  mutate(across(starts_with(&quot;make_playoffs&quot;), ~(result - .x)^2)) %&gt;% 
  group_nest(season) %&gt;% 
  mutate(t_test = map(data, t_test_playoffs)) %&gt;% 
  select(-data) %&gt;% 
  unnest(t_test) %&gt;% 
  gt_format_output()</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ipiuzdvgky .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ipiuzdvgky .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ipiuzdvgky .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ipiuzdvgky .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ipiuzdvgky .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ipiuzdvgky .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ipiuzdvgky .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ipiuzdvgky .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ipiuzdvgky .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ipiuzdvgky .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ipiuzdvgky .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ipiuzdvgky .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ipiuzdvgky .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ipiuzdvgky .gt_from_md > :first-child {
  margin-top: 0;
}

#ipiuzdvgky .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ipiuzdvgky .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ipiuzdvgky .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ipiuzdvgky .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ipiuzdvgky .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ipiuzdvgky .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ipiuzdvgky .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ipiuzdvgky .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ipiuzdvgky .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ipiuzdvgky .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ipiuzdvgky .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ipiuzdvgky .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ipiuzdvgky .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ipiuzdvgky .gt_left {
  text-align: left;
}

#ipiuzdvgky .gt_center {
  text-align: center;
}

#ipiuzdvgky .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ipiuzdvgky .gt_font_normal {
  font-weight: normal;
}

#ipiuzdvgky .gt_font_bold {
  font-weight: bold;
}

#ipiuzdvgky .gt_font_italic {
  font-style: italic;
}

#ipiuzdvgky .gt_super {
  font-size: 65%;
}

#ipiuzdvgky .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="ipiuzdvgky" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">season</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Brier.score.diff</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">p.value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Brier.score.538</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Brier.score.bookies</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">conf.low</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">conf.high</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">2016</td>
      <td class="gt_row gt_right">&minus;0.029</td>
      <td class="gt_row gt_right" style="font-weight: bold;">0.635</td>
      <td class="gt_row gt_right">0.142</td>
      <td class="gt_row gt_right">0.172</td>
      <td class="gt_row gt_right">&minus;0.153</td>
      <td class="gt_row gt_right">0.094</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">2017</td>
      <td class="gt_row gt_right">0.050</td>
      <td class="gt_row gt_right" style="font-weight: bold;">0.268</td>
      <td class="gt_row gt_right">0.159</td>
      <td class="gt_row gt_right">0.109</td>
      <td class="gt_row gt_right">&minus;0.040</td>
      <td class="gt_row gt_right">0.140</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">2018</td>
      <td class="gt_row gt_right">0.007</td>
      <td class="gt_row gt_right" style="font-weight: bold;">0.887</td>
      <td class="gt_row gt_right">0.127</td>
      <td class="gt_row gt_right">0.120</td>
      <td class="gt_row gt_right">&minus;0.095</td>
      <td class="gt_row gt_right">0.109</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">2019</td>
      <td class="gt_row gt_right">0.019</td>
      <td class="gt_row gt_right" style="font-weight: bold;">0.793</td>
      <td class="gt_row gt_right">0.204</td>
      <td class="gt_row gt_right">0.185</td>
      <td class="gt_row gt_right">&minus;0.127</td>
      <td class="gt_row gt_right">0.166</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">2020</td>
      <td class="gt_row gt_right">&minus;0.029</td>
      <td class="gt_row gt_right" style="font-weight: bold;">0.502</td>
      <td class="gt_row gt_right">0.082</td>
      <td class="gt_row gt_right">0.111</td>
      <td class="gt_row gt_right">&minus;0.114</td>
      <td class="gt_row gt_right">0.057</td>
    </tr>
  </tbody>
  
  
</table></div>
<p>The p-values from the quick t-tests above suggest no statistically significant difference in performance between betting markets and FiveThirtyEight<a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a>.</p>
<div id="how-much-does-fivethirtyeight-differ-from-markets" class="section level2">
<h2>How much does FiveThirtyEight <em>differ</em> from markets?</h2>
<p>Overall performance may be similar even when individual forecasts are quite different. Circling back to the start of <a href="#nba-playoffs-and-the-lakers">NBA Playoffs and the Lakers</a>, what got me writing was noticing FiveThirtyEight’s divergence from the betting markets in their recent view of the Lakers’ playoff chances.</p>
<p>At -460 the markets had an implied probability of the Lakers making the playoffs of ~82%<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a>. FiveThirtyEight’s forecast of 27% means a difference of ~55 percentage points (ppt)<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a>.</p>
<p><strong>Is this difference atypical?</strong></p>
<p>Across five seasons of data (145 observations), the correlation coefficient was 0.92 (strong correlation). The average difference between FiveThirtyEight and betting markets was ~10 percentage points.</p>
<pre class="r"><code>bookies_538_joined %&gt;% 
  mutate(diff = abs(make_playoffs_538 - make_playoffs_bookies)) %&gt;% 
  # summarise(mean_diff = mean(diff)) %&gt;% 
  with(t.test(diff)) %&gt;%
  broom::tidy() %&gt;%
  select(avg_abs_ppt_diff_538_bookies = estimate, contains(&quot;conf&quot;)) %&gt;%
  gt::gt() %&gt;%
  gt::fmt_number(columns = everything(),
                 decimals = 3)</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#qbmzqwkotw .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qbmzqwkotw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qbmzqwkotw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qbmzqwkotw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qbmzqwkotw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qbmzqwkotw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qbmzqwkotw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qbmzqwkotw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qbmzqwkotw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qbmzqwkotw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qbmzqwkotw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qbmzqwkotw .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#qbmzqwkotw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qbmzqwkotw .gt_from_md > :first-child {
  margin-top: 0;
}

#qbmzqwkotw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qbmzqwkotw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qbmzqwkotw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#qbmzqwkotw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qbmzqwkotw .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#qbmzqwkotw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qbmzqwkotw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qbmzqwkotw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qbmzqwkotw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qbmzqwkotw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qbmzqwkotw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#qbmzqwkotw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qbmzqwkotw .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#qbmzqwkotw .gt_left {
  text-align: left;
}

#qbmzqwkotw .gt_center {
  text-align: center;
}

#qbmzqwkotw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qbmzqwkotw .gt_font_normal {
  font-weight: normal;
}

#qbmzqwkotw .gt_font_bold {
  font-weight: bold;
}

#qbmzqwkotw .gt_font_italic {
  font-style: italic;
}

#qbmzqwkotw .gt_super {
  font-size: 65%;
}

#qbmzqwkotw .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="qbmzqwkotw" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">avg_abs_ppt_diff_538_bookies</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">conf.low</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">conf.high</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">0.097</td>
      <td class="gt_row gt_right">0.081</td>
      <td class="gt_row gt_right">0.113</td>
    </tr>
  </tbody>
  
  
</table></div>
<p>A difference of 55 ppt is bigger than any I saw in the historical data. The closest was 48 ppt<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a>:</p>
<pre class="r"><code>bookies_538_joined %&gt;% 
  mutate(make_playoffs_diff = abs(make_playoffs_538 - make_playoffs_bookies)) %&gt;% 
  arrange(desc(make_playoffs_diff)) %&gt;% 
  head(1) %&gt;% 
  gt::gt() %&gt;%
  gt::fmt_number(columns = contains(&quot;make_playoffs&quot;),
                 decimals = 3)</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#xgjccecirb .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xgjccecirb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xgjccecirb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xgjccecirb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xgjccecirb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xgjccecirb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xgjccecirb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xgjccecirb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xgjccecirb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xgjccecirb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xgjccecirb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xgjccecirb .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#xgjccecirb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xgjccecirb .gt_from_md > :first-child {
  margin-top: 0;
}

#xgjccecirb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xgjccecirb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xgjccecirb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#xgjccecirb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xgjccecirb .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#xgjccecirb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xgjccecirb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xgjccecirb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xgjccecirb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xgjccecirb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xgjccecirb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#xgjccecirb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xgjccecirb .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#xgjccecirb .gt_left {
  text-align: left;
}

#xgjccecirb .gt_center {
  text-align: center;
}

#xgjccecirb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xgjccecirb .gt_font_normal {
  font-weight: normal;
}

#xgjccecirb .gt_font_bold {
  font-weight: bold;
}

#xgjccecirb .gt_font_italic {
  font-style: italic;
}

#xgjccecirb .gt_super {
  font-size: 65%;
}

#xgjccecirb .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="xgjccecirb" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">season</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">forecast_date</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">team</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">result</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">make_playoffs_538</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">make_playoffs_bookies</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">make_playoffs_diff</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">2020</td>
      <td class="gt_row gt_left">2019-10-22</td>
      <td class="gt_row gt_left">Spurs</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">0.141</td>
      <td class="gt_row gt_right">0.623</td>
      <td class="gt_row gt_right">0.482</td>
    </tr>
  </tbody>
  
  
</table></div>
<p>In the <a href="#appendix">Appendix</a> I give some <a href="#potential-reasons-for-the-difference">Potential Reasons for the Difference</a>, though on its surface 55 ppt does seem like a historically large disagreement between FiveThirtyEight and the betting markets.</p>
</div>
</div>
<div id="closing-thought" class="section level1">
<h1>Closing Thought</h1>
<p>Given the (apparent) parity in performance between FiveThirtyEight and the betting markets, the Lakers’ playoff odds are especially unclear. I can’t just write-off FiveThirtyEight as I’d been tempted to do.</p>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
When I see big differences i get tempted to write-off 538.<br><br>But maybe it's just different but still meaningful (even if less performative at margins).<br><br>I don't look at it systematically enough to know (so why another comparison point–eg betting markets–would be helpful).
</p>
— Bryan Shalloway (<span class="citation">@brshallo</span>) <a href="https://twitter.com/brshallo/status/1467868598576328714?ref_src=twsrc%5Etfw">December 6, 2021</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>For the reasons given in the Introduction I would still lean towards trusting the betting markets<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a> but the <a href="https://sportsbook.draftkings.com/nba-finals?category=wins/playoffs&amp;subcategory=to-make-the-playoffs">current</a> payout on draft kings of $450 on a $100 bet of the Lakers not making the playoffs is an intriguing opportunity that perhaps deserves a closer look<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a>.</p>
</div>
<div id="appendix" class="section level1">
<h1>Appendix</h1>
<div id="potential-reasons-for-the-difference" class="section level2">
<h2>Potential Reasons for the Difference</h2>
<p>Some reasons why the observed 55 ppt difference in expectations between FiveThirtyEight and betting markets may not be as extreme as it seems:</p>
<ul>
<li>My historical data is looking at individual time-point comparisons at just one point for each season – perhaps betting markets and FiveThirtyEight vary more from one another at different points in the year than those at the points I have..</li>
<li>Market odds (according to Sports Odds History) are archived come from BetMGM. I don’t know where I was looking when I saw the -460 odds on the Lakers. Each betting market is different and may have different levels of covariation with FiveThirtyEight’s forecasts.</li>
<li>I was looking at just the “odds of making the playoffs” not the average of that with the inverse of “odds to miss the playoffs” as I did in step 5 of <a href="#steps">Steps</a><a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a>.</li>
<li>Changes in methodology of more recent forecasts may have made it depart more from betting markets compared to in prior years</li>
</ul>
</div>
<div id="calculating-percentiles-of-diff" class="section level2">
<h2>Calculating percentiles of diff</h2>
<p>Initially I’d planned on including the calculation of some percentiles of various differences in percentage points. Saved code from examples below.</p>
<pre class="r"><code>one_off_diff &lt;- 0.27 - odds_to_prob(line_to_odds(-460))

bookies_538_joined %&gt;% 
  mutate(diff = abs(make_playoffs_538 - make_playoffs_bookies)) %&gt;% 
  summarise(percentile_of_difference = sum(diff &lt; one_off_diff) / n())

# Alternative approach for calculating one-off diff
ecdf_diffs &lt;- bookies_538_joined %&gt;% 
  mutate(diff = abs(make_playoffs_538 - make_playoffs_bookies)) %&gt;% 
  with(ecdf(diff))

ecdf_diffs(one_off_diff)</code></pre>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Model based forecasts are also reproducible – compared to a market based prices which are produced collectively and can’t be <em>reproduced</em> per se by an individual building a model. FiveThirtyEight’s model also has the challenge of trying to be consistent/coherent e.g. make player ratings meaningful and useful in aggregating up to give team ratings.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Public forecasting organizations like FiveThirtyEight also help promote data literacy and inspire improved predictive practices<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>While I think betting markets would be an ideal comparison point, a comparison against something simple like, “the teams with the best record will at this point will make the playoffs” or “the teams that made it to the playoffs last year will make it this year” would also represent improved comparison points.<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>I did found some <a href="https://www.sportstradingnetwork.com/article/pinnacle-versus-fivethirtyeight-a-comparison-of-predictive-success/">writeups</a> reviewing other FiveThirtyEight forecasts.<a href="#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>Using the <a href="https://github.com/tidyverse/rvest">rvest</a> package.<a href="#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>Whether team actually made it to playoffs that season<a href="#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>You might expect these to be inverses of one another, but they actually are slightly different – the difference provides room for The House to make a profit.<a href="#fnref7" class="footnote-back">↩︎</a></p></li>
<li id="fn8"><p>So that the forecasts and betting markets being compared were created the same day.<a href="#fnref8" class="footnote-back">↩︎</a></p></li>
<li id="fn9"><p>Essentially the root mean squared error of the classification.<a href="#fnref9" class="footnote-back">↩︎</a></p></li>
<li id="fn10"><p>I’ve remarked in the past on the differences in their performance evaluation from methods used by more pure ML and kaggle people:</p>
<blockquote>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
Why do <a href="https://twitter.com/kaggle?ref_src=twsrc%5Etfw"><span class="citation">@kaggle</span></a> and more ML people use log loss but <a href="https://twitter.com/FiveThirtyEight?ref_src=twsrc%5Etfw"><span class="citation">@FiveThirtyEight</span></a> <a href="https://twitter.com/superforecaster?ref_src=twsrc%5Etfw"><span class="citation">@superforecaster</span></a> and more probabilistic forecasting sites lean towards Brier Score?<br><br>(1/3)
</p>
— Bryan Shalloway (<span class="citation">@brshallo</span>) <a href="https://twitter.com/brshallo/status/1468805245551591432?ref_src=twsrc%5Etfw">December 9, 2021</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</blockquote>
<a href="#fnref10" class="footnote-back">↩︎</a></li>
<li id="fn11"><p>Other ways to segment this could be by make/miss playoffs, high/low forecasted probabilities, reviewing an ensemble of bookies and 538 forecasts… but I don’t really expect any of these to be interesting so I’ll leave it there… and give a hat-tip to FiveThirtyEight for not getting creamed by the betting markets.<a href="#fnref11" class="footnote-back">↩︎</a></p></li>
<li id="fn12"><p>Note that I’m just using the line for “make playoffs” in the above analysis I’d taken the average of the odds of “making the playoffs” and the inverse of “missing the playoffs”…<a href="#fnref12" class="footnote-back">↩︎</a></p></li>
<li id="fn13"><p>If you check today FiveThirtyEight is not quite so down on the Lakers but still are quite a bit compared to the betting markets.<a href="#fnref13" class="footnote-back">↩︎</a></p></li>
<li id="fn14"><p>In that case in the favor of FiveThirtyEight.<a href="#fnref14" class="footnote-back">↩︎</a></p></li>
<li id="fn15"><p>I would be surprised if, after looking at a larger swathe of data, the markets did not come-out significantly better than FiveThirtyEight. Though perhaps the magnitude of the difference may be small.<a href="#fnref15" class="footnote-back">↩︎</a></p></li>
<li id="fn16"><p>Maybe at some point in the future I’ll review hypothetical outcomes of various strategies, e.g. ensembling, or betting in cases of high-levels of divergence between forecasts.<a href="#fnref16" class="footnote-back">↩︎</a></p></li>
<li id="fn17"><p>This would make the betting market odds seem more aggressive.<a href="#fnref17" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
